spring.application.name=notification-service

# Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/notification_forum_db
spring.datasource.username=postgres
spring.datasource.password=sa
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Server Port
server.port=8085

# Kafka Configuration
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.consumer.group-id=notification-service-group
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.trusted.packages=*
# Disable type headers để không dùng class name từ post-service
spring.kafka.consumer.properties.spring.json.use.type.headers=false
spring.kafka.consumer.properties.spring.json.remove.type.headers=true
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.enable-auto-commit=true

# Gmail SMTP Configuration
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=dangkhoavo10@gmail.com
spring.mail.password=mncy qcio ueze vxrl
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Notification Recipients
notification.moderator.email=sonh1496@gmail.com
notification.admin.email=check.dangkhoa2@gmail.com

# Keycloak Configuration
keycloak.url=http://localhost:8080
keycloak.realm=school-forum
keycloak.client-id=forum-frontend
keycloak.principal-attribute=preferred_username

# Spring Security OAuth2 Resource Server
spring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8080/realms/school-forum

# Logging Configuration - Giảm log noise từ Kafka
# Chỉ hiển thị WARN và ERROR cho Kafka (bỏ DEBUG logs)
logging.level.org.apache.kafka=WARN
logging.level.org.springframework.kafka=WARN
logging.level.org.apache.kafka.clients=WARN
logging.level.org.apache.kafka.common=WARN

# Application logs - INFO level (giữ logs của PostEventConsumer và EmailService)
logging.level.com.khoavdse170395.notificationservice=INFO

# Spring framework - WARN level
logging.level.org.springframework=WARN
